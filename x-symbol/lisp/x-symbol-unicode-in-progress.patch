Index: x-symbol.el
===================================================================
RCS file: /disk/cvs/proofgen/ProofGeneral/x-symbol/lisp/x-symbol.el,v
retrieving revision 8.0
diff -r8.0 x-symbol.el
4901c4901,4919
<   
---
> 
>   ;; DA: added this to disable looking for other fonts in case
>   ;; of unicode.
>   (if x-symbol-use-unicode
>       (progn
> 	(require 'x-symbol-unicode)
> 	(setq x-symbol-latin1-fonts nil)
> 	(setq x-symbol-latin2-fonts nil)
> 	(setq x-symbol-latin3-fonts nil)
> 	(setq x-symbol-latin5-fonts nil)
> 	(setq x-symbol-latin9-fonts nil)
> 	(setq x-symbol-xsymb0-fonts nil)
> 	(setq x-symbol-xsymb1-fonts nil)
> 	;; Fixme: we could combine several fonts 
> 	(x-symbol-init-cset x-symbol-unicode-cset 
> 			    (list (face-font 'default))
> 			    x-symbol-unicode-table)))
> 	
>  
Index: x-symbol-mule.el
===================================================================
RCS file: /disk/cvs/proofgen/ProofGeneral/x-symbol/lisp/x-symbol-mule.el,v
retrieving revision 8.0
diff -r8.0 x-symbol-mule.el
186,188c186,196
<   (let* ((char (if (< encoding 128)
< 		   (make-char (caadr cset) encoding)
< 		 (make-char (caddr cset) (- encoding 128)))))
---
>   (let* ((char (cond 
> 		((and (not x-symbol-use-unicode) (< encoding 128))
> 		 (make-char (caadr cset) encoding))
> 		((and (not x-symbol-use-unicode) (< encoding 256))
> 		 (make-char (caddr cset) (- encoding 128)))
> 		(t
> 		 ;; it must be Unicode...
> 		 (decode-char 'ucs encoding)))))
> ;		 (make-char (caddr cset) 
> ;			    (mod encoding 256)
> ;			    (/ encoding 256))))))
191c199,201
< 			   (and coding (>= encoding 160)
---
> 			   (and coding 
> 				(>= encoding 160)
> 				(not x-symbol-use-unicode)
195a206,208
> ;; (format "#x%x" (+ (* 3 256) 147)) = 0x393
> ;; (make-char 'mule-unicode-2500-33ff 147 3)
> 
